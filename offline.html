<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="manifest" href="/manifest.json" />
    <meta name="theme-color" content="#0d9488" />

    <title>FiskeyTrade Offline</title>
    <meta name="description" content="FiskeyTrade - You are offline. View cached content or try again later.">
    <meta name="keywords" content="Forex, Currency Exchange, Trading, Currency Converter, Forex Charts, FiskeyTrade">
    <meta name="author" content="Fiskey254">

    <!-- Open Graph / Social Sharing -->
    <meta property="og:title" content="FiskeyTrade - Forex Trading App">
    <meta property="og:description" content="Real-time Forex rates, converter, and trading charts. Support us via PayPal.">
    <meta property="og:image" content="/icons/icon-512x512.png">
    <meta property="og:url" content="https://fiskey254.onrender.com">
    <meta property="og:type" content="website">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="FiskeyTrade - Forex Trading App">
    <meta name="twitter:description" content="Real-time Forex rates, converter, and trading charts. Support us via PayPal.">
    <meta name="twitter:image" content="/icons/icon-512x512.png">

    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "FiskeyTrade",
        "url": "https://fiskey254.onrender.com",
        "applicationCategory": "FinanceApplication",
        "operatingSystem": "All",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        }
      }
    </script>

    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-KHXLFVZ634"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-KHXLFVZ634', { send_page_view: true });
    </script>

    <!-- PayPal SDK -->
    <script src="https://www.paypal.com/sdk/js?client-id=BAA0BOzTBI0jt7xbZfe3EyU85Ne55Drm8zrpZ5QWTZd3W4hEg-ZLCYp-Y36V62IoJusM7PaxxazVCDtXyc&components=hosted-buttons&disable-funding=venmo&currency=USD"></script>

    <!-- Styles -->
    <style>
      body {
        font-family: Arial, sans-serif;
        background-color: #f0f4f8;
        color: #0d9488;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        margin: 0;
        text-align: center;
      }
      h1 { font-size: 2em; margin-bottom: 0.5em; }
      p { font-size: 1.1em; margin-bottom: 1.5em; }
      button {
        background-color: #0d9488;
        color: #fff;
        border: none;
        border-radius: 50px;
        padding: 12px 20px;
        font-size: 16px;
        cursor: pointer;
        box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        margin-bottom: 20px;
      }
      button:hover { background-color: #0b7c73; }
      .social-links a {
        margin: 0 10px;
        text-decoration: none;
        color: #0d9488;
        font-weight: bold;
      }
      .social-links a:hover { text-decoration: underline; }
    </style>
  </head>

  <body>
    <h1>📴 You are Offline</h1>
    <p>FiskeyTrade cannot connect to the internet. Access cached content or try again later.</p>

    <button onclick="location.reload()">🔄 Retry Connection</button>

    <div class="social-links">
      <p>Follow us:</p>
      <a href="https://twitter.com/fiskey254" target="_blank">Twitter</a> |
      <a href="https://facebook.com/fiskey254" target="_blank">Facebook</a> |
      <a href="https://instagram.com/fiskey254" target="_blank">Instagram</a> |
      <a href="https://linkedin.com/in/fiskey254" target="_blank">LinkedIn</a>
    </div>

    <p>Support via PayPal:</p>
    <div id="paypal-container-offline"></div>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        if (window.paypal) {
          paypal.HostedButtons({
            hostedButtonId: "6E5V3XTHK92NQ"
          }).render("#paypal-container-offline");
        }
      });
    </script>

    <!-- Install Button -->
    <button class="install-fab" id="install-button" style="display:none;">📲 Install App</button>
    <script>
      let deferredPrompt;
      const installBtn = document.getElementById("install-button");
      window.addEventListener("beforeinstallprompt", (e) => {
        e.preventDefault();
        deferredPrompt = e;
        installBtn.style.display = "block";
      });
      installBtn.addEventListener("click", async () => {
        if (!deferredPrompt) return;
        deferredPrompt.prompt();
        const choice = await deferredPrompt.userChoice;
        console.log(choice.outcome === "accepted" ? "✅ Installed" : "❌ Dismissed");
        deferredPrompt = null;
        installBtn.style.display = "none";
      });
      window.addEventListener("appinstalled", () => console.log("🎉 FiskeyTrade PWA installed successfully!"));
    </script>
  </body>
  </html>
